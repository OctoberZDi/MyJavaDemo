<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="js/jquery-3.4.1.min.js"></script>
    <script>
        function validateMoneyInput(e) {
            const $moneyDom = $(e);
            let value = $moneyDom.val();
            // 修复第一个字符是小数点 的情况.
            //debugger
            let fa = '';
            if (value !== '' && value.substr(0, 1) === '.') {
                value = '';
            }
            // 解决 粘贴不生效
            value = value.replace(/^0*(0\.|[1-9])/, '$1');
            // 清除“数字”和“.”以外的字符
            value = value.replace(/[^\d.]/g, '');
            // 只保留第一个. 清除多余的
            value = value.replace(/\.{2,}/g, '.');
            value = value.replace('.', '$#$').replace(/\./g, '').replace('$#$', '.');
            // 只能输入两个小数
            value = value.replace(/^(\-)*(\d+)\.(\d\d\d).*$/, '$1$2.$3');
            //debugger
            // 以上已经过滤，此处控制的是如果没有小数点，首位不能为类似于 01、02的金额
            if (value.indexOf('.') < 0 && value !== '') {
                if (value.substr(0, 1) === '0' && value.length > 1) {
                    value = value.substr(1, value.length);
                }
            }
            value = fa + value;
            return value;
        }</script>
</head>

<body>
<input id="test" onkeyup="this.value=validateMoneyInput('#test')" onbeforepaste="num(this)" placeholder="请输入数字">
</body>
</html>
